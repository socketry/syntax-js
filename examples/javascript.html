<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JavaScript Examples - @socketry/syntax</title>
	<style>
		body {
			font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
			max-width: 1200px;
			margin: 0 auto;
			padding: 2rem;
			background: #1e1e1e;
			color: #d4d4d4;
		}
		
		h1 {
			color: #4ec9b0;
			border-bottom: 2px solid #4ec9b0;
			padding-bottom: 0.5rem;
		}
		
		h2 {
			color: #569cd6;
			margin-top: 2rem;
		}
		
		.example {
			margin: 1rem 0 2rem;
		}
		
		.description {
			margin-bottom: 1rem;
			color: #9cdcfe;
		}
		
		syntax-highlight {
			display: block;
			margin: 1rem 0;
		}
		
		nav {
			background: #252526;
			padding: 1rem;
			border-radius: 8px;
			margin-bottom: 2rem;
		}
		
		nav a {
			color: #569cd6;
			text-decoration: none;
			margin-right: 1.5rem;
		}
		
		nav a:hover {
			text-decoration: underline;
		}
	</style>
</head>
<body>
	<h1>JavaScript Examples</h1>
	
	<nav>
		<a href="index.html">‚Üê Back</a>
		<a href="html.html">HTML</a>
		<a href="mixed.html">Mixed Content</a>
	</nav>
	
	<div class="example">
		<h2>ES6+ Features</h2>
		<p class="description">Modern JavaScript with classes, async/await, and arrow functions:</p>
		
		<syntax-highlight language="javascript">
// Modern JavaScript class
class EventEmitter {
	#listeners = new Map();
	
	constructor() {
		this.maxListeners = 10;
	}
	
	on(event, callback) {
		if (!this.#listeners.has(event)) {
			this.#listeners.set(event, []);
		}
		
		this.#listeners.get(event).push(callback);
		return this;
	}
	
	emit(event, ...args) {
		const callbacks = this.#listeners.get(event);
		if (!callbacks) return false;
		
		callbacks.forEach(cb => cb(...args));
		return true;
	}
	
	off(event, callback) {
		const callbacks = this.#listeners.get(event);
		if (!callbacks) return this;
		
		const index = callbacks.indexOf(callback);
		if (index !== -1) {
			callbacks.splice(index, 1);
		}
		return this;
	}
}

// Async/await example
async function fetchUserData(userId) {
	try {
		const response = await fetch(`/api/users/${userId}`);
		if (!response.ok) {
			throw new Error(`HTTP error! status: ${response.status}`);
		}
		const data = await response.json();
		return data;
	} catch (error) {
		console.error('Failed to fetch user data:', error);
		return null;
	}
}
		</syntax-highlight>
	</div>
	
	<div class="example">
		<h2>Template Literals</h2>
		<p class="description">Template strings with expressions:</p>
		
		<syntax-highlight language="javascript">
const name = 'World';
const greeting = `Hello, ${name}!`;

const multiline = `
	This is a multi-line
	template literal with ${greeting}
	and expressions: ${2 + 2}
`;

// Tagged template
function highlight(strings, ...values) {
	return strings.reduce((result, str, i) => {
		return result + str + (values[i] ? `<mark>${values[i]}</mark>` : '');
	}, '');
}

const emphasized = highlight`The answer is ${42}!`;
		</syntax-highlight>
	</div>
	
	<div class="example">
		<h2>Regular Expressions</h2>
		<p class="description">Pattern matching and text processing:</p>
		
		<syntax-highlight language="javascript">
// Email validation
const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
const isValidEmail = email => emailRegex.test(email);

// URL parsing
const urlPattern = /^(https?):\/\/([^\/]+)(\/.*)?$/;
const match = 'https://example.com/path'.match(urlPattern);

// Replace with function
const text = 'Hello world, hello universe';
const replaced = text.replace(/hello/gi, match => {
	return match.toUpperCase();
});

// Named capture groups (ES2018)
const dateRegex = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
const { groups } = '2025-10-26'.match(dateRegex);
console.log(groups.year, groups.month, groups.day);
		</syntax-highlight>
	</div>
	
	<div class="example">
		<h2>Array Methods</h2>
		<p class="description">Functional programming with arrays:</p>
		
		<syntax-highlight language="javascript">
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// Map, filter, reduce
const doubled = numbers.map(n => n * 2);
const evens = numbers.filter(n => n % 2 === 0);
const sum = numbers.reduce((acc, n) => acc + n, 0);

// Find and includes
const firstEven = numbers.find(n => n % 2 === 0);
const hasThree = numbers.includes(3);

// Some and every
const hasLarge = numbers.some(n => n > 5);
const allPositive = numbers.every(n => n > 0);

// FlatMap (ES2019)
const nested = [[1, 2], [3, 4], [5]];
const flat = nested.flatMap(arr => arr.map(n => n * 2));
		</syntax-highlight>
	</div>
	
	<div class="example">
		<h2>Comments</h2>
		<p class="description">Different comment styles:</p>
		
		<syntax-highlight language="javascript">
// Single-line comment
let x = 42; // Inline comment

/*
 * Multi-line comment
 * spanning multiple lines
 */
function calculate(a, b) {
	return a + b; /* inline block comment */
}

/**
 * JSDoc documentation comment
 * @param {string} name - The user's name
 * @param {number} age - The user's age
 * @returns {Object} User object
 */
function createUser(name, age) {
	return { name, age };
}
		</syntax-highlight>
	</div>
	
	<script type="module">
		import Syntax from '../Syntax.js';
		
		// Initialize highlighting
		await Syntax.highlight({
			autoUpgrade: true,
			syntax: Syntax.default
		});
	</script>
</body>
</html>
